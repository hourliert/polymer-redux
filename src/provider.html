<link rel="import" href="../polymer/polymer.html">

<!--
An element providing a solution to no problem in particular.

Example:

    <polymer-redux></polymer-redux>

@group Seed Elements
@element polymer-redux
@demo demo/index.html
@hero hero.svg
-->
<dom-module id="redux-provider">

  <template>
    
    <content></content>

  </template>

  <script>
    var StoreEngine = {

      reduxProvider: null,

      get store() {
        return this._store;
      },

      set store(s) {
        if (this._store) {
          console.log(`
            A store has already been registred.
            Ignoring.
          `);
        } else {
          this._store = s;
        }
      },

      attachReduxProvider (provider) {
        this.reduxProvider = provider;
      },

      detachReduxProvider () {
        this.reduxProvider = null;
      }


    };

    Polymer({

      is: 'redux-provider',

      properties: {

        /**
         * Redux Store
         * @type {Object}
         */
        _storeEngine: {
          type: Object,
          readOnly: true,
          value: StoreEngine
        }
      },

      attached() {
        this._storeEngine.attachReduxProvider(this);
      },

      detached() {
        this._storeEngine.detachReduxProvider(this);
      },

      get store() {
        return this._storeEngine.store;
      },

      set store(s) {
        this._storeEngine.store = s;
      }

    });
  </script>

</dom-module>
