<link rel="import" href="../polymer/polymer.html">

<!--
An element providing a solution to no problem in particular.

Example:

    <polymer-redux></polymer-redux>

@group Seed Elements
@element polymer-redux
@demo demo/index.html
@hero hero.svg
-->
<dom-module id="redux-provider">

  <template>
    
    <content></content>

  </template>

  <script>
    /**
     * Handle globaly the redux Store
     * @type {Object}
     */
    var StoreEngine = {

      /**
       * Get the store
       * @return {Object} Redux store
       */
      get store() {
        return this._store;
      },

      /**
       * Set the store
       * @param  {Object} s Redux store
       */
      set store(s) {
        if (this._store) {
          console.log(`
            A store has already been registred.
            Ignoring.
          `);
        } else {
          this._store = s;
        }
      }

    };

    Polymer({

      is: 'redux-provider',

      properties: {

        /**
         * Redux store handler. Common to all redux-provider instance.
         * @readonly
         * @type {Object}
         */
        _storeEngine: {
          type: Object,
          readOnly: true,
          value: StoreEngine
        }
      },

      /**
       * Get the store
       * @return {Object} The redux store
       */
      get store() {
        return this._storeEngine.store;
      },

      /**
       * Set the store
       * @param  {Object} s Redux store
       */
      set store(s) {
        this._storeEngine.store = s;
      }

    });
  </script>

</dom-module>
